<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin registration</title>
    <link rel="stylesheet" href="./styleshop.css">
    <link rel="stylesheet" href="bootstrap5/css/bootstrap.css">
    <style>
    .form-control {
      box-shadow: 0 0 9px 2px rgb(100, 100, 100, 0.30);
      margin-top: 9px;
    }

    .moback {
      position: relative;
      display: flex;
      flex-direction: column;
      width: 120vh;
      height: 87vh !important;
      pointer-events: auto;
      background-color: #fff;
      background-clip: padding-box;
      border: 1px solid rgba(0, 0, 0, 0.2);
      border-radius: 1.9rem;
      outline: 0;
    }

    @media screen and (max-width:414px) {
      .nice {
        height: 38vh !important;
        margin-top: -93px !important;
      }
    .nn {
    margin-top: 34px;
    }
     
    }
    .ss{
      margin-bottom: 12px;
    }
    .modal-body {
      margin-top: -65px;
    }
    .click {
      background-color: white;
      padding: 13px 19px;
      margin-top: 34px !important;
    }
    .okay {
      border-radius: 53px;
    }
    .dd {
      border: 1px solid black;
      height: 14px;
      border: none;
    }
    .now {
      background-color:black;
    }
    .nice {
      padding-top: -29px !important;
    }
  </style>
</head>
<body class="now" onload="spec()">
    <div class="container transparent mt-5 pb-5">
        <div class="row justify-content-center nice ">
          <div class="col-11 ">
            <div class="row justify-content-center mt-5 ">
              <h1 class=" fw-bold text-center text-uppercase text-white mt-4" style="font-size:19px ;">Registration
                page</h1>
              <div class="col-md-6">
                <input type="text" class="form-control"  value="" id="fname" placeholder="FirstName">
                <div class="dd">
                  <small id="err1" class=""></small>
                </div>
              </div>
              <div class="col-md-6">
                <input type="text" class="form-control" value="" id="lname" placeholder="LastName">
                <div class="dd">
                  <small id="err2" class=""></small>
                </div>
              </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                  <input type="text" class="form-control" value="" id="gen" placeholder="Gender">
                  <div class="dd">
                    <small id="err7"></small>
                  </div>
                </div>
                <div class="col-md-6">
                  <input type="text" class="form-control" value="" id="mail" placeholder="Email">
                  <div class="dd">
                    <small id="err4" class=""></small>
                  </div>
                </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <input type="text" class="form-control" value="" id="pwd" placeholder="Password">
                <div class="dd">
                  <small id="err5" class=""></small>
                </div>
              </div>
              <div class="col-md-6">
                <input type="tel" class="form-control" value="" id="pass" placeholder="Phone-number">
                <div class="dd">
                  <small id="err6" class=""></small>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <input type="text" class="form-control" value="" id="add" placeholder="Address">
                <div class="dd">
                  <small id="err3" class=""></small>
                </div>
              </div>
              <div class="col-md-6">
                <input type="file" id="image_input" accept="image/png, image/jpg" class="form-control">
              </div>
             </div>
            <div class="row justify-content-center">
              <div class="col-md-12 text-center mt-2">
                <small class="text-white mx-2 fs-5 ss fst-italic">ALREADY SIGN IN<a class="fs-5 text-danger fst-italic ps-3" href="sign-in.html"
                  class="text-danger">sign-in?</a></small>
              </div>
            </div>
            <div class="row justify-content-center">
              <div class="col-md-9 text-center mt-3">
                <span class="click "><a class="text-dark fs-5 fst-italic nn" href="#" onclick="show()">Sign up</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
       var allUsers = []
        function spec(){
        if (localStorage.admin) {
            allUsers = JSON.parse(localStorage.admin)
        }
        console.log(allUsers);
        
    } 
    function show(){
        if (fname.value == "" || lname.value == "" || add.value == "" || mail.value == "" || pwd.value == "" || pass.value == "" || gen.value == ""){
        var firstname = fname.value;
        var regfname = /^[a-zA-z]{3,15}$/;
        if (regfname.test(firstname)==false){
            err1.innerText = "Enter the value of  firstname";
            err1.style.color = "red";
        }
        else{
          console.log(regfname.test(firstname));
        }

        var lastname = lname.value;
        var reglname = /^([a-zA-z]{3,15})$/;
        if (reglname.test(lastname)==false){
            err2.innerText = "Enter the value of  lastname";
            err2.style.color = "red";
        }
        else{
          console.log(reglname.test(lastname));
        }

        var address = add.value;
        var regadd = /^[\w]+$/;
        if (regadd.test(address)==false){
            err3.innerText = "Enter the address";
            err3.style.color = "red";
        }
        else{
          console.log(regadd.test(address));
        }
        
        var Email = mail.value;
        var regemail = /^([\w]+)([@])([a-z]{3,7})([.])([a-z]{3,6})(([.][a-z]{2,5})?)$/;
        if (regemail.test(Email)==false){
            err4.innerText = "Enter your Email";
            err4.style.color = "red";
        }
        else{
          console.log(regemail.test(Email));
        }
        var password = pwd.value;
        var regpass = /^([\w]{3,15})([&]?)([@]?)$/;
        if (regpass.test(password)==false){
            err5.innerText = "Enter the password";
            err5.style.color = "red";
        }
        else{
          console.log(regpass.test(password));
        }

        var PhoneNumber = pass.value;
        var regphon = /^([\d]){11}$/;
        if (regphon.test(PhoneNumber)==false){
            err6.innerText = "Enter the value of phoneNumber";
            err6.style.color = "red";
        }
        else{
          console.log(regphon.test(PhoneNumber));
        }
        var Gender = gen.value;
        var reggen = /^([w]){9}$/;
        if (reggen.test(Gender)==false){
            err7.innerText = "Enter the value of Gender";
            err7.style.color = "red";
        }
        else{
          console.log(reggen.test(Gender));
        }  
      }
      else{  
      var rush = {
        ffname: fname.value,
        LstName: lname.value,
        Address: add.value,
        email: mail.value,
        Password: pwd.value,
        PhoneNumber: pass.value,
        Gender: gen.value,
        
      }
      let adminUsers = localStorage.admin? JSON.parse(localStorage.admin):[]
      let emailFinder = adminUsers? adminUsers.find((val) => val.email == mail.value):null;
      if (emailFinder) {
        err4.innerText = "Email already exist";
        err4.style.color = "red";
      }else{
        adminUsers.push(rush)
       localStorage.setItem("admin", JSON.stringify(adminUsers))
       location.assign("sign-in.html")

      }
      console.log(allUsers);
    //   get = JSON.parse(localStorage.getItem("project"));
    //  let take = get.find((items)=>{
    //     console.log(items);
    //     var tt = items.email
    //     // if ( items.email != email.value){
    
        //   window.location.assign("sign-in.html")
        // }else{
        //   err4.innerText = "Email already exist";
        //   err4.style.color = "red";
        // }
      }
    }
  </script>
    </script>
    <script src="./bootstrap5/js/bootstrap.js"></script>
</body>
</html>